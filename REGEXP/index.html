<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>REGEXP | Web 实验室</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/front-end-lab/icons/logo.svg">
    <link rel="manifest" href="/front-end-lab/manifest.json">
    <link rel="apple-touch-icon" href="/front-end-lab/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/front-end-lab/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Web 开发笔记与解决方案">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/front-end-lab/assets/css/0.styles.7c75eff0.css" as="style"><link rel="preload" href="/front-end-lab/assets/js/app.ab6aa6ee.js" as="script"><link rel="preload" href="/front-end-lab/assets/js/2.bbbbf786.js" as="script"><link rel="preload" href="/front-end-lab/assets/js/9.e7daab79.js" as="script"><link rel="preload" href="/front-end-lab/assets/js/5.4735e5f3.js" as="script"><link rel="prefetch" href="/front-end-lab/assets/js/10.9e879d89.js"><link rel="prefetch" href="/front-end-lab/assets/js/11.5054fcae.js"><link rel="prefetch" href="/front-end-lab/assets/js/12.203ccf23.js"><link rel="prefetch" href="/front-end-lab/assets/js/13.189161f3.js"><link rel="prefetch" href="/front-end-lab/assets/js/14.d834b1a8.js"><link rel="prefetch" href="/front-end-lab/assets/js/15.988d1507.js"><link rel="prefetch" href="/front-end-lab/assets/js/16.421e0fdd.js"><link rel="prefetch" href="/front-end-lab/assets/js/17.16064589.js"><link rel="prefetch" href="/front-end-lab/assets/js/18.48dae1d0.js"><link rel="prefetch" href="/front-end-lab/assets/js/19.ce99456d.js"><link rel="prefetch" href="/front-end-lab/assets/js/20.f3e9f8a3.js"><link rel="prefetch" href="/front-end-lab/assets/js/21.24fd1c9a.js"><link rel="prefetch" href="/front-end-lab/assets/js/22.1c005594.js"><link rel="prefetch" href="/front-end-lab/assets/js/23.d86caa46.js"><link rel="prefetch" href="/front-end-lab/assets/js/24.688fd878.js"><link rel="prefetch" href="/front-end-lab/assets/js/25.57fd3ad5.js"><link rel="prefetch" href="/front-end-lab/assets/js/26.a594fc26.js"><link rel="prefetch" href="/front-end-lab/assets/js/27.d32e89ce.js"><link rel="prefetch" href="/front-end-lab/assets/js/28.b40835d4.js"><link rel="prefetch" href="/front-end-lab/assets/js/29.b4c0c46f.js"><link rel="prefetch" href="/front-end-lab/assets/js/3.d1273278.js"><link rel="prefetch" href="/front-end-lab/assets/js/30.c760b087.js"><link rel="prefetch" href="/front-end-lab/assets/js/4.0ff4bcde.js"><link rel="prefetch" href="/front-end-lab/assets/js/6.9f214d26.js"><link rel="prefetch" href="/front-end-lab/assets/js/7.915779a9.js"><link rel="prefetch" href="/front-end-lab/assets/js/8.09add6ea.js">
    <link rel="stylesheet" href="/front-end-lab/assets/css/0.styles.7c75eff0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/front-end-lab/" class="home-link router-link-active"><!----> <span class="site-name">Web 实验室</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/front-end-lab/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/front-end-lab/javascript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/front-end-lab/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><a href="/front-end-lab/REGEXP/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  REGEXP
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/typescript/" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/topic/2020.html" class="nav-link">
  topic
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/operations/" class="nav-link">
  运维笔记
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/mobile/" class="nav-link">
  移动端开发解决方案
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/further/" class="nav-link">
  扩展阅读
</a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Web 展示页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/anran758/front-end-lab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/front-end-lab/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/front-end-lab/javascript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/front-end-lab/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><a href="/front-end-lab/REGEXP/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  REGEXP
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/typescript/" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/topic/2020.html" class="nav-link">
  topic
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/operations/" class="nav-link">
  运维笔记
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/mobile/" class="nav-link">
  移动端开发解决方案
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/further/" class="nav-link">
  扩展阅读
</a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Web 展示页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/anran758/front-end-lab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>REGEXP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-end-lab/REGEXP/#常见正则校验" class="sidebar-link">常见正则校验</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/REGEXP/#表单验证" class="sidebar-link">表单验证</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/REGEXP/#网络相关" class="sidebar-link">网络相关</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/REGEXP/#联系方式" class="sidebar-link">联系方式</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/REGEXP/#匹配特定数字" class="sidebar-link">匹配特定数字</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/REGEXP/#字符串相关" class="sidebar-link">字符串相关</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/REGEXP/#匹配语系字符范围" class="sidebar-link">匹配语系字符范围</a></li></ul></li><li><a href="/front-end-lab/REGEXP/#正则函数使用示例" class="sidebar-link">正则函数使用示例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/REGEXP/#replace" class="sidebar-link">replace</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/REGEXP/#test" class="sidebar-link">test</a></li></ul></li><li><a href="/front-end-lab/REGEXP/#正则技巧" class="sidebar-link">正则技巧</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/REGEXP/#反向引用" class="sidebar-link">反向引用</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/REGEXP/#忽略分組" class="sidebar-link">忽略分組</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/REGEXP/#前瞻" class="sidebar-link">前瞻</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="regexp"><a href="#regexp" class="header-anchor">#</a> REGEXP</h1> <p><img src="/front-end-lab/assets/img/regex.4fe466ae.jpg" alt="banner"></p> <blockquote><p>tips: 善用<code>Ctrl + F</code>输入关键字能提高查询的效率哟~</p></blockquote> <p>自己收集了一套针对工作中所需的正则表达式. 多适用于字符串处理、表单验证、日志数据分析等场合，实用高效, 将长期维护。</p> <ul><li><a href="#REGEXP">REGEXP</a> <ul><li><a href="#%E5%B8%B8%E8%A7%81%E6%AD%A3%E5%88%99%E6%A0%A1%E9%AA%8C">常见正则校验</a> <ul><li><a href="#%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81">表单验证</a></li> <li><a href="#%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3">网络相关</a></li> <li><a href="#%E8%81%94%E7%B3%BB%E6%96%B9%E5%BC%8F">联系方式</a></li> <li><a href="#%E5%8C%B9%E9%85%8D%E7%89%B9%E5%AE%9A%E6%95%B0%E5%AD%97">匹配特定数字</a></li> <li><a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%85%B3">字符串相关</a></li> <li><a href="#%E5%8C%B9%E9%85%8D%E8%AF%AD%E7%B3%BB%E5%AD%97%E7%AC%A6%E8%8C%83%E5%9B%B4">匹配语系字符范围</a></li></ul></li> <li><a href="#%E6%AD%A3%E5%88%99%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B">正则函数使用示例</a> <ul><li><a href="#replace">replace</a></li> <li><a href="#test">test</a></li></ul></li> <li><a href="#%E6%AD%A3%E5%88%99%E6%8A%80%E5%B7%A7">正则技巧</a> <ul><li><a href="#%E5%8F%8D%E5%90%91%E5%BC%95%E7%94%A8">反向引用</a></li> <li><a href="#%E5%BF%BD%E7%95%A5%E5%88%86%E7%B5%84">忽略分組</a></li> <li><a href="#%E5%89%8D%E7%9E%BB">前瞻</a></li></ul></li></ul></li></ul> <hr> <h2 id="常见正则校验"><a href="#常见正则校验" class="header-anchor">#</a> 常见正则校验</h2> <h3 id="表单验证"><a href="#表单验证" class="header-anchor">#</a> 表单验证</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 用户名正则，4到16位（字母，数字，下划线，减号）</span>
<span class="token keyword">var</span> userNameReg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z0-9_-]{4,16}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 必须拥有数字和特殊字符，并且在6 ~ 16位之间</span>
<span class="token comment">// (?=.*[0-9]) - 断言一个字符串至少有一个数字;</span>
<span class="token comment">// (?=.*[!@#$%^&amp;*]) - 断言一个字符串至少有一个特殊字符。</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?=.*[0-9])(?=.*[!@#$%^&amp;*])[a-zA-Z0-9!@#$%^&amp;*]{6,16}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配邮箱地址</span>
<span class="token keyword">var</span> mailReg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 中国六位数的邮政编码</span>
<span class="token keyword">var</span> postalCode <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\d{6}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配15~18位身份证</span>
<span class="token keyword">var</span> IDCard <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配18位的新版身份证</span>
<span class="token keyword">var</span> IDCard_18 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>


<span class="token comment">// 校验输入框是字符数为是否为 4~16 位(英文长度为1, 汉字长度为2)</span>
<span class="token keyword">var</span> numName <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z0-9]{4,16}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> mate <span class="token operator">=</span> numName<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\u4e00-\u9fa5]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'aa'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="网络相关"><a href="#网络相关" class="header-anchor">#</a> 网络相关</h3> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">//ipv4地址正则</span>
<span class="token keyword">var</span> IPReg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// Reg Hex颜色正则</span>
<span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// URL正则</span>
<span class="token keyword">var</span> urlReg<span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配JSON格式</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\w+\(({[^()]+})\)$</span><span class="token regex-delimiter">/</span></span>
</code></pre></div><p>匹配<code>json</code>字符串</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> ret <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> ret <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\w+\(({[^()]+})\)$</span><span class="token regex-delimiter">/</span></span>
  <span class="token keyword">var</span> matches <span class="token operator">=</span> ret<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>matches<span class="token punctuation">)</span> ret <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="联系方式"><a href="#联系方式" class="header-anchor">#</a> 联系方式</h3> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 5-11位的腾讯qq号</span>
<span class="token keyword">var</span> qqReg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9][0-9]{4,11}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 微信号正则，6至20位，以字母开头，字母，数字，减号，下划线</span>
<span class="token keyword">var</span> qqReg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 国内常见</span>
<span class="token keyword">var</span> phone <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^1[3|5|8|9]\d{9}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 固定电话</span>
<span class="token keyword">var</span> telephone <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(0[0-9]{2})\d{8}$|^(0[0-9]{3}(\d{7,8}))$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
</code></pre></div><h3 id="匹配特定数字"><a href="#匹配特定数字" class="header-anchor">#</a> 匹配特定数字</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 匹配正整数</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9]\d*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配负整数</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^-[1-9]\d*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配整数</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^-?[1-9]\d*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配非负整数（正整数 + 0）</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9]\d*|0$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配非正整数（负整数 + 0）</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^-[1-9]\d*|0$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配正浮点数</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配负浮点数</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配浮点数</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配非负浮点数（正浮点数 + 0）</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配非正浮点数（负浮点数 + 0）</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
</code></pre></div><h3 id="字符串相关"><a href="#字符串相关" class="header-anchor">#</a> 字符串相关</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 匹配由26个英文字母组成的字符串</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[A-Za-z]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配由26个英文字母的大写组成的字符串</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[A-Z]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配由26个英文字母的小写组成的字符串</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-z]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配由数字和26个英文字母组成的字符串</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[A-Za-z0-9]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配由数字、26个英文字母或者下;划线组成的字符串</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\w+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配空白行的正则表达式</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\n\s*\r</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配首尾空白字符的正则表达式</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s*|\s*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> rtrim <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>

<span class="token comment">// 匹配双字节字符(包括汉字在内, 一个双字节字符长度计2，ASCII字符计1)</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^\x00-\xff]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span>
</code></pre></div><hr> <h3 id="匹配语系字符范围"><a href="#匹配语系字符范围" class="header-anchor">#</a> 匹配语系字符范围</h3> <p>用法:<code>/^[\u4E00-\u9FA5]+$/</code>(匹配简体中文)</p> <p><code>2E80～33FFh</code>：中日韩符号区。收容康熙字典部首、中日韩辅助部首、注音符号、日本假名、韩文音符，中日韩的符号、标点、带圈或带括符文数字、月份，以及日本的假名组合、单位、年号、月份、日期、时间等。</p> <p><code>3400～4DFFh</code>：中日韩认同表意文字扩充A区，总计收容6,582个中日韩汉字。</p> <p><code>4E00～9FFFh</code>：中日韩认同表意文字区，总计收容20,902个中日韩汉字。</p> <p><code>A000～A4FFh</code>：彝族文字区，收容中国南方彝族文字和字根。</p> <p><code>AC00～D7FFh</code>：韩文拼音组合字区，收容以韩文音符拼成的文字。</p> <p><code>F900～FAFFh</code>：中日韩兼容表意文字区，总计收容302个中日韩汉字。</p> <p><code>FB00～FFFDh</code>：文字表现形式区，收容组合拉丁文字、希伯来文、阿拉伯文、中日韩直式标点、小符号、半角符号、全角符号等。</p> <h2 id="正则函数使用示例"><a href="#正则函数使用示例" class="header-anchor">#</a> 正则函数使用示例</h2> <h3 id="replace"><a href="#replace" class="header-anchor">#</a> replace</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 使用正则匹配中文字节, 将其替换为xx, 再获取字符串的长度就是完整的长度了.</span>
<span class="token keyword">function</span> <span class="token function">getLen</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[^\x00-\xff]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'xx'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="test"><a href="#test" class="header-anchor">#</a> test</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 匹配是否符合邮件规则</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token comment">// test返回一个布尔值, 表示是否匹配到制定字符串</span>
<span class="token keyword">var</span> mail <span class="token operator">=</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'anran758@gmail.com'</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>mail<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 如果邮件格式正确的话, 就可以做点啥了(雾</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="正则技巧"><a href="#正则技巧" class="header-anchor">#</a> 正则技巧</h2> <h3 id="反向引用"><a href="#反向引用" class="header-anchor">#</a> 反向引用</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 比如这里我们想让这个日期格式反转</span>
<span class="token comment">// 正则括号是一个分组, 下面的代码就捕获了三个分组</span>
<span class="token comment">// 通过$分组符来转换位置, 来达到我们想要的结果</span>
<span class="token string">'2018-3-21'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d{4})-(\d{1,2})-(\d{1,2})</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'$2/$3/$1'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;3/21/2018&quot;</span>
</code></pre></div><h3 id="忽略分組"><a href="#忽略分組" class="header-anchor">#</a> 忽略分組</h3> <p>不希望捕获某些分组, 只需要分组内加上<code>?:</code>即可:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?:Byron).(ok)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token string">'Byron-ok'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">'$1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 只匹配了 ok</span>
</code></pre></div><h3 id="前瞻"><a href="#前瞻" class="header-anchor">#</a> 前瞻</h3> <table><thead><tr><th>名字</th> <th>正則</th></tr></thead> <tbody><tr><td>正向前瞻</td> <td>exp(?=assert)</td></tr> <tr><td>负向前瞻</td> <td>exp(?!assert)</td></tr></tbody></table> <p>正向前瞻就是匹配前者, 效验后者是否存在.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 这个正则的意思是: 匹配一个单词字符( [a-zA-Z0-9_] ), 然后验证后面是不是数字</span>
<span class="token comment">// 结果为: &quot;X2*3&quot;. 因为3后面没有数字, 所以没有匹配到.</span>
<span class="token string">'a2*3'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\w(?=\d)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'X'</span><span class="token punctuation">)</span>

<span class="token comment">// 结果为: &quot;X2*X4X8&quot;</span>
<span class="token comment">// 总的说就是</span>
<span class="token string">'a2*34v8'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\w(?=\d)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'X'</span><span class="token punctuation">)</span>
</code></pre></div><p>负向前瞻则相反, 匹配前面, 替代后面</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// a 是单词字符, 后面是数字, 因此没有匹配到</span>
<span class="token comment">// 2 是单词字符, 后面不是数字, 被替换成X</span>
<span class="token comment">// * 不是单词字符 因此没有匹配到</span>
<span class="token comment">// 3 是单词字符, 后面是数字, 因此没有匹配到</span>
<span class="token comment">// 4 是单词字符, 后面不是数字, 被替换成X</span>
<span class="token comment">// v 是单词字符, 后面是数字, 因此没有匹配到</span>
<span class="token comment">// 8 是单词字符, 后面没有匹配到数字, 被替换成X</span>
<span class="token comment">// 结果: aX*4XvX</span>
<span class="token string">'a2*34v8'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\w(?!\d)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'X'</span><span class="token punctuation">)</span>
</code></pre></div><hr> <p>可视化正则表达式, 可以试试<a href="https://regexper.com/" target="_blank" rel="noopener noreferrer">regexper<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 让你看懂正则匹配的走向.</p> <p><img src="/front-end-lab/assets/img/regexper.748c4ada.png" alt="regexper"></p> <p>如果有哪些正则规则有问题的, 可以在issue留言探讨~</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/anran758/front-end-lab/edit/master/docs/REGEXP/README.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020/12/4 下午2:53:11</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/front-end-lab/assets/js/app.ab6aa6ee.js" defer></script><script src="/front-end-lab/assets/js/2.bbbbf786.js" defer></script><script src="/front-end-lab/assets/js/9.e7daab79.js" defer></script><script src="/front-end-lab/assets/js/5.4735e5f3.js" defer></script>
  </body>
</html>
