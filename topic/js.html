<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>javascript | Web 实验室</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/front-end-lab/icons/logo.svg">
    <link rel="manifest" href="/front-end-lab/manifest.json">
    <link rel="apple-touch-icon" href="/front-end-lab/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/front-end-lab/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Web 开发笔记与解决方案">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/front-end-lab/assets/css/0.styles.7c75eff0.css" as="style"><link rel="preload" href="/front-end-lab/assets/js/app.696a2afd.js" as="script"><link rel="preload" href="/front-end-lab/assets/js/2.8da06e8a.js" as="script"><link rel="preload" href="/front-end-lab/assets/js/29.5d5e2534.js" as="script"><link rel="preload" href="/front-end-lab/assets/js/7.ae79556e.js" as="script"><link rel="preload" href="/front-end-lab/assets/js/6.c336eb54.js" as="script"><link rel="prefetch" href="/front-end-lab/assets/js/10.53d2610a.js"><link rel="prefetch" href="/front-end-lab/assets/js/11.9497bada.js"><link rel="prefetch" href="/front-end-lab/assets/js/12.9d3ec7ac.js"><link rel="prefetch" href="/front-end-lab/assets/js/13.d3f88e47.js"><link rel="prefetch" href="/front-end-lab/assets/js/14.8e94d4eb.js"><link rel="prefetch" href="/front-end-lab/assets/js/15.9f74cb18.js"><link rel="prefetch" href="/front-end-lab/assets/js/16.04205f9a.js"><link rel="prefetch" href="/front-end-lab/assets/js/17.a880aafe.js"><link rel="prefetch" href="/front-end-lab/assets/js/18.3427c57c.js"><link rel="prefetch" href="/front-end-lab/assets/js/19.7afb6994.js"><link rel="prefetch" href="/front-end-lab/assets/js/20.678a24f1.js"><link rel="prefetch" href="/front-end-lab/assets/js/21.da64f771.js"><link rel="prefetch" href="/front-end-lab/assets/js/22.5124ffad.js"><link rel="prefetch" href="/front-end-lab/assets/js/23.d970ceed.js"><link rel="prefetch" href="/front-end-lab/assets/js/24.506161de.js"><link rel="prefetch" href="/front-end-lab/assets/js/25.ae740e3b.js"><link rel="prefetch" href="/front-end-lab/assets/js/26.a2788e09.js"><link rel="prefetch" href="/front-end-lab/assets/js/27.d6326deb.js"><link rel="prefetch" href="/front-end-lab/assets/js/28.754cff40.js"><link rel="prefetch" href="/front-end-lab/assets/js/3.50a80f9f.js"><link rel="prefetch" href="/front-end-lab/assets/js/30.7a890b15.js"><link rel="prefetch" href="/front-end-lab/assets/js/31.f55cdaec.js"><link rel="prefetch" href="/front-end-lab/assets/js/32.ab687f40.js"><link rel="prefetch" href="/front-end-lab/assets/js/33.d9d3699d.js"><link rel="prefetch" href="/front-end-lab/assets/js/4.c1430d63.js"><link rel="prefetch" href="/front-end-lab/assets/js/5.69e9e9b0.js"><link rel="prefetch" href="/front-end-lab/assets/js/8.49ac6693.js"><link rel="prefetch" href="/front-end-lab/assets/js/9.f8be94ac.js">
    <link rel="stylesheet" href="/front-end-lab/assets/css/0.styles.7c75eff0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/front-end-lab/" class="home-link router-link-active"><!----> <span class="site-name">Web 实验室</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/front-end-lab/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/front-end-lab/javascript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/front-end-lab/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><a href="/front-end-lab/REGEXP/" class="nav-link">
  REGEXP
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/typescript/" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/topic/2020.html" class="nav-link">
  topic
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/operations/" class="nav-link">
  运维笔记
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/mobile/" class="nav-link">
  移动端开发解决方案
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/further/" class="nav-link">
  扩展阅读
</a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Web 展示页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/anran758/front-end-lab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/front-end-lab/css/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/front-end-lab/javascript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/front-end-lab/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><a href="/front-end-lab/REGEXP/" class="nav-link">
  REGEXP
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          开发
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/typescript/" class="nav-link">
  TypeScript
</a></li></ul></li><li class="dropdown-item"><h4>
          笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/topic/2020.html" class="nav-link">
  topic
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/operations/" class="nav-link">
  运维笔记
</a></li><li class="dropdown-subitem"><a href="/front-end-lab/mobile/" class="nav-link">
  移动端开发解决方案
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/front-end-lab/further/" class="nav-link">
  扩展阅读
</a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://anran758.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Web 展示页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/anran758/front-end-lab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/front-end-lab/topic/2020.html" class="sidebar-link">2020</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/topic/2020.html#html" class="sidebar-link">html</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/2020.html#css" class="sidebar-link">css</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/2020.html#综合" class="sidebar-link">综合</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/2020.html#优化类" class="sidebar-link">优化类</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/2020.html#解决方案" class="sidebar-link">解决方案</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/2020.html#http" class="sidebar-link">HTTP</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/2020.html#运维相关" class="sidebar-link">运维相关</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/2020.html#其他" class="sidebar-link">其他</a></li></ul></li><li><a href="/front-end-lab/topic/react.html" class="sidebar-link">React note</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/topic/react.html#react" class="sidebar-link">React</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/react.html#redux" class="sidebar-link">Redux</a></li></ul></li><li><a href="/front-end-lab/topic/vue.html" class="sidebar-link">Vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/topic/vue.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/vue.html#vue-使用" class="sidebar-link">vue 使用</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/vue.html#vue-原理" class="sidebar-link">vue 原理</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/vue.html#vue-的双向绑定原理是什么" class="sidebar-link">vue 的双向绑定原理是什么？</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/vue.html#vue-router" class="sidebar-link">vue-router</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/vue.html#vuex" class="sidebar-link">vuex</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/vue.html#vue-性能优化" class="sidebar-link">vue 性能优化</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/vue.html#vue-与-react-的区别" class="sidebar-link">Vue 与 React 的区别</a></li></ul></li><li><a href="/front-end-lab/topic/webpack.html" class="sidebar-link">webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-lab/topic/webpack.html#为什么要使用-webpack-bundle工具" class="sidebar-link">为什么要使用 webpack/bundle工具？</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/webpack.html#module、chunk、bundle-分别是什么" class="sidebar-link">module、chunk、bundle 分别是什么？</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/webpack.html#loader-和-plugin-有什么区别-有自己实现过吗" class="sidebar-link">loader 和 plugin 有什么区别？有自己实现过吗？</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/webpack.html#除了做基础脚手架外-还用来做过什么" class="sidebar-link">除了做基础脚手架外，还用来做过什么?</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/webpack.html#webpack-实现懒加载" class="sidebar-link">webpack 实现懒加载</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/webpack.html#webpack-优化项" class="sidebar-link">webpack 优化项</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/webpack.html#babel-runtime-和-babel-polyfill" class="sidebar-link">babel-runtime 和 babel-polyfill</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/webpack.html#什么是-tree-shaking" class="sidebar-link">什么是 Tree-Shaking</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/webpack.html#rollup-和-webpack-有什么区别" class="sidebar-link">rollup 和 webpack 有什么区别？</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/webpack.html#esmodule-和-commonjs-有什么区别" class="sidebar-link">ESModule 和 commonJS 有什么区别</a></li><li class="sidebar-sub-header"><a href="/front-end-lab/topic/webpack.html#为什么要搭建脚手架-脚手架有什么用" class="sidebar-link">为什么要搭建脚手架，脚手架有什么用？</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> javascript</h1> <h2 id="什么是闭包-列举闭包的应用场景"><a href="#什么是闭包-列举闭包的应用场景" class="header-anchor">#</a> 什么是闭包？列举闭包的应用场景</h2> <p>闭包主要指<strong>一个函数及其周围封闭词法环境中的引用构成闭包</strong>，这也是一种语言特性。从实践的角度来看，满足以下两个条件的才能称为闭包:</p> <ol><li>创建该函数的上下文被销毁了，但该函数仍然存在</li> <li>函数内有引用外部变量</li></ol> <p>常见的应用场景是，在一个函数的局部作用域中创建一个内部函数，再将这个内部函数返回出去。
内部函数总是可以访问创建它的上下文，也就是外部函数中声明的参数和变量，即使创建内部函数的上下文已经销毁。例如:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createName</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> prefix <span class="token operator">=</span> <span class="token string">&quot;dvelopment_&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>prefix <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> showName <span class="token operator">=</span> <span class="token function">createName</span><span class="token punctuation">(</span><span class="token string">'anran758'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>调用 <code>createName</code> 后返回了一个函数并赋值给了 <code>showName</code> 变量，同时 <code>createName</code> 的上下文被销毁。
此时再调用 <code>showName</code> 函数时，尽管 <code>createName</code> 的上下文已经被销毁了，但 <code>showName</code> 中还能获取 <code>createName</code> 的内部变量与形参，这就是闭包的一种应用。</p> <h2 id="什么是科里化"><a href="#什么是科里化" class="header-anchor">#</a> 什么是科里化？</h2> <p>柯里化是一种将<strong>使用多个参数的函数</strong>转换成一系列<strong>使用一个参数的函数</strong>的技术，本质上也是利用了闭包的特性。科里化可以做到<strong>参数复用</strong>和<strong>延迟执行</strong>的效果。</p> <p>例如，若传入了给定函数的所定义的参数数量后执行函数:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> <span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> fn<span class="token punctuation">.</span>length <span class="token operator">!==</span> rest<span class="token punctuation">.</span>length
    <span class="token operator">?</span> <span class="token keyword">function</span> <span class="token function">wrap</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> rest<span class="token punctuation">.</span>length <span class="token operator">+</span> args<span class="token punctuation">.</span>length <span class="token operator">!==</span> fn<span class="token punctuation">.</span>length
        <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">wrap</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">,</span> <span class="token operator">...</span>arg<span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>rest<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token operator">:</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>rest<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">curry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 6</span>
</code></pre></div><h2 id="节流与防抖"><a href="#节流与防抖" class="header-anchor">#</a> 节流与防抖</h2> <ul><li>函数节流(Throttle)是：在固定的时间内触发事件，每隔 n 秒只触发一次 (例子: 移动端下拉页面)</li> <li>函数防抖是：当你频繁触发后，n 秒内只执行一次 (例子: window.resize 触发事件，通过防抖只更新最后一次事件)</li></ul> <h2 id="数组去重"><a href="#数组去重" class="header-anchor">#</a> 数组去重</h2> <ol><li><p>利用 <code>Set</code> 结构不可重复的特性</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> info <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'anran758'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>info<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>info<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 通过扩展运算符将 Set 转为 Array</span>
<span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 或者使用 Array.from 转为 Array</span>
<span class="token keyword">var</span> newArr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>优点: 语法简洁
缺点: Set 添加新值时是通过 <a href="http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero" target="_blank" rel="noopener noreferrer">SameValueZero<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 算法进行比对的, 因此不能做深比较去重</p></blockquote></li> <li><p>使用 <code>indexOf</code> 判断是否具有相同的项</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> info <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;anran758&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> info<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> info<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">uniq</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>arr <span class="token operator">||</span> <span class="token operator">!</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> item <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>newArr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      newArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> newArr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> newArr <span class="token operator">=</span> <span class="token function">uniq</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>优点: 兼容低版本 IE
缺点: 没有实现深比较去重</p></blockquote></li> <li><p>引入 <a href="https://www.lodashjs.com/docs/lodash.uniq" target="_blank" rel="noopener noreferrer">loadsh<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 工具库来处理:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

_<span class="token punctuation">.</span><span class="token function">uniq</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>还可以使用 <a href="https://www.lodashjs.com/docs/lodash.uniqWith" target="_blank" rel="noopener noreferrer">uniqWith<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 搭配 <a href="https://www.lodashjs.com/docs/lodash.isEqual" target="_blank" rel="noopener noreferrer">isEqual<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 实现深比较去重的效果。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> objects <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token string">'x'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">'x'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token string">'x'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

_<span class="token punctuation">.</span><span class="token function">uniqWith</span><span class="token punctuation">(</span>objects<span class="token punctuation">,</span> _<span class="token punctuation">.</span>isEqual<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]</span>
</code></pre></div><blockquote><p>优点: 语法简洁，使用方便，能满足所有去重需求
缺点: 需要额外引入第三方库</p></blockquote></li></ol> <h2 id="数组多层扁平化"><a href="#数组多层扁平化" class="header-anchor">#</a> 数组多层扁平化</h2> <ol><li><p><code>Array.flat</code>: 数组的 <code>flat</code> 方法接受一个数值参数，该参数是指定需要扁平化的层数。若想将数组子项中所有数组进行扁平化，可以传入 <code>Infinity</code>。</p> <p>只扁平化第 1 层:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [0, 1, [2], [[3]], [], 4]</span>
</code></pre></div><p>全部扁平化:</p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [0, 1, 2, 3, 4]</span>
</code></pre></div></li> <li><p>通过递归的方式处理:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">flatDeep</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> depth</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> d <span class="token operator">=</span> depth <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> depth <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> d <span class="token operator">&gt;</span> <span class="token number">0</span>
    <span class="token operator">?</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
        <span class="token operator">?</span> <span class="token function">flatDeep</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> d <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> val<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">flatDeep</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [0, 1, [2], [[3]], [], 4]</span>

<span class="token function">flatDeep</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [0, 1, 2, 3, 4]</span>
</code></pre></div><p>递归实现有很多思路，<code>reduce</code> 循环合并是一种，<code>for</code> 循环也是一种。它们只是实现细节不同，但递归思想是相通的。</p></li></ol> <h2 id="深拷贝数组和对象"><a href="#深拷贝数组和对象" class="header-anchor">#</a> 深拷贝数组和对象</h2> <ol><li><p>可以先通过 <code>JSON.stringify</code> 将数据转为 JSON 字符串，再通过 <code>JSON.parse</code> 对 JSON 字符串进行解析，可以得到全新的数组/对象。</p> <p>使用该方法进行深拷贝并不算完美，<code>JSON.stringify</code> 只能序列化对象的可枚举属性，如果对象是通过构造函数生成的，那么会丢失 <code>constructor</code>。也不能对有循环引用的对象进行深拷贝。<br>
除此之外，<code>Date</code> 对象会被序列化为字符串。正则表达式、<code>Error</code> 对象会被序列化为空对象。若属性中存在 <code>undefined</code> 则该属性会被丢弃。<code>NaN</code>、<code>Infinity</code> 等信息会被转为 <code>null</code>。<br>
由此可见，如果被拷贝的参数中没有 <code>Date</code>、正则、函数或对象循环引用的问题，可以考虑使用该方法。</p></li> <li><p>可以自己定义递归函数，参数是传入数组或对象。再遍历形参的属性或下标，如果遍历到的类型也是引用类型那就进行浅拷贝，再进行递归，直至全部属性都遍历完毕。</p></li> <li><p>通过第三方类库实现，如 <code>lodash</code> 的 <code>deepClone</code> 就可以实现深拷贝。</p></li></ol> <h2 id="数组里面有-10-万个数据-取第-1-个数据与第-10-万个数据的时间相差多少"><a href="#数组里面有-10-万个数据-取第-1-个数据与第-10-万个数据的时间相差多少" class="header-anchor">#</a> 数组里面有 10 万个数据，取第 1 个数据与第 10 万个数据的时间相差多少？</h2> <p><strong>A:</strong> 取元素的复杂度为 <code>O(1)</code>, 消耗时间几乎一致，差异可以忽略不计。</p> <h2 id="数组的-map-和-foreach-有什么区别"><a href="#数组的-map-和-foreach-有什么区别" class="header-anchor">#</a> 数组的 map 和 forEach 有什么区别？</h2> <p><code>map</code> 将每一个元素传入函数调用后，会将函数的返回值存入新数组中，因此可以对数组做链式处理。而 <code>forEach</code> 只是将元素传入给函数调用，不会讲返回值存入新数组中。</p> <p>可以参考这个回答: <a href="https://www.zhihu.com/question/278332594/answer/886056097" target="_blank" rel="noopener noreferrer">js es6 中如何比较深刻的理解 map、for、for of？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="fetch-与-xhr-的区别"><a href="#fetch-与-xhr-的区别" class="header-anchor">#</a> Fetch 与 XHR 的区别?</h2> <ul><li><code>Fetch</code> 是基于 <code>Promise</code> 实现的, 相比 <code>XHR(XMLHttpRequest)</code> 的语法更加简洁。</li> <li><code>Fetch</code> 发送请求时默认不带 <code>cookie</code> 的, 需要设置 <code>credentials</code> 的配置项</li> <li>当接收到一个代表错误的 <code>HTTP</code> 状态码时, 从 <code>fetch()</code> 返回的 <code>Promise</code> 不会被标记为 <code>reject</code>, 即使响应的 <code>HTTP</code> 状态码是 <code>404</code> 或 <code>500</code>。仅当网络故障时或请求被阻止时, 才会标记为 <code>reject</code>。</li> <li><code>Fetch</code> 不支持超时控制与检测请求进度</li></ul> <h2 id="bind、call、apply-的区别"><a href="#bind、call、apply-的区别" class="header-anchor">#</a> bind、call、apply 的区别?</h2> <p>调用 bind 方法后返回一个新函数，新函数的 this 将被指向调用 bind 方法时的第一个参数。而其余参数将作为新函数的参数，供调用时使用</p> <p>call 与 apply 第一个参数也是指定的 this 值，其余的不同是接受参数的不同。call 接受<strong>参数列表</strong>，apply 接收的是<strong>参数数组</strong>。两者相比，call 的性能会更好。</p> <h2 id="如何检测变量的类型-尽可能多-描述可能出现的问题"><a href="#如何检测变量的类型-尽可能多-描述可能出现的问题" class="header-anchor">#</a> 如何检测变量的类型(尽可能多，描述可能出现的问题)?</h2> <p>主要使用 <code>typeof</code>、<code>instantof</code>、<code>Object.prototype.toString.call</code>。还可以使用 <code>Array.isArray</code> 方法判断是否是数组，<code>Number.isNaN</code> 是否是 <code>NaN</code> 等。</p> <p><code>typeof</code> 可以用于 <code>String</code>、<code>Number</code>、<code>Symbol</code>、<code>Boolean</code>、<code>undefined</code> 等类型，但用于 <code>null</code>、<code>Array</code> 类型的话会展示为 <code>object</code> 类型。</p> <p><code>instanceof</code> 则是通过原型链的方式来判断对象类型。但它的局限性在于只要被操作的变量原型有上有该类型的值。它主要缺点是不能检测 <code>number</code>, <code>boolean</code>, <code>string</code> 字面量的类型。</p> <p><code>Object.prototype.toString.call</code> 可以精准的判断类型的值，主要的问题是写法繁琐，可以基于此函数做一层封装:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getBaseType</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> typeStr <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> typeStr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="简述一下原型链"><a href="#简述一下原型链" class="header-anchor">#</a> 简述一下原型链</h2> <p>原型链是实例对象与原型之间的连接，每个对象都有一个特殊的 <code>[[Prototype]]</code> 属性，它指向原型对象引用。当访问对象的某个属性时，首先会在对象自身查找这个属性。</p> <p>若这个属性在自身没有找到，就会通过 <code>[[Prototype]]</code> 属性指向的原型对象上查找。如果该原型对象里也没有找到的话该属性的话，就会从这个<strong>原型对象中</strong>的 <code>[[Prototype]]</code> 属性继续往下找，直到找到属性或者 <code>[[Prototype]]</code> 的值为 <code>null</code> 时停止查找。</p> <p>这一个通过 <code>[[Prototype]]</code> 链相连的机制被为原型链。</p> <h2 id="prototype、proto-和-constructor-的关系"><a href="#prototype、proto-和-constructor-的关系" class="header-anchor">#</a> prototype、<strong>proto</strong> 和 constructor 的关系</h2> <p><strong>简单版</strong>:</p> <p>构造函数的 <code>prototype</code> 和通过该构造函数实例化出来的对象的 <code>__proto__</code> 属性是指向同一个原型对象。由于它们共享同一个原型对象，因此构造函数上的 <code>prototype.constructor</code> 等价于实例化对象的 <code>__proto__.constructor</code></p> <hr> <p><strong>详细版</strong>:</p> <p>在 js 中，每个函数都有一个 <code>prototype</code> 属性, 该属性指向的是调用该构造函数而创建的<strong>实例的原型</strong>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'1. Person prototype:'</span><span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>每个 js 对象中都有个 <code>__proto__</code> 属性，这个属性会指向<strong>该对象的原型</strong>。比如将 <code>Person</code> 进行实例化赋值给 <code>person1</code>, <code>person1.__proto__</code> 将指向构造函数的 <code>prototype</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 此处 Person 是构造函数</span>
<span class="token keyword">const</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  <span class="token string">&quot;2. person1.__proto__ equal to Person.prototype:&quot;</span><span class="token punctuation">,</span>
  person1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><details block=""><summary>扩展: 如果是像 `&quot;This is a string&quot;`、`18`、`true` 这种基本类型也会有 `__proto__` 属性吗？</summary> <p>这里就需要引入<strong>封装对象包装</strong>的概念。当我们定义完基本类型字面量后，js 引擎自动会为这些基本类型值包装成一个对象，包装后的对象就拥有了 <code>__proto__</code> 属性:</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Uncaught SyntaxError: Invalid or unexpected token</span>
<span class="token comment">// 上行代码会抛错，因为字面量没有来得及封装为对象。直接访问是访问失败的</span>

<span class="token comment">// 将字面量存入变量中或使用括号提升优先级后就可以正常访问了</span>
<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>具体细节请参考: <strong>《你不知道的 JavaScript 中卷》 3.2 封装对象包装</strong></p></details> <p>根据以上例子可以推出结论: <code>原型对象 === Person.prototype === person1.__proto__</code>。<code>person1</code> 没有 <code>prototype</code> 属性是因为该属性只有函数对象才有，但他们指向的引用是同一个。</p> <p>除此之外，每个原型都有一个 <code>constructor</code> 属性默认指向关联的构造函数:</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3. Person === Person.prototype.constructor:'</span><span class="token punctuation">,</span> Person <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'4. person1.__proto__.constructor === Person.prototype.constructor:'</span><span class="token punctuation">,</span> person1<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p><code>__proto__</code> 可能随时被废弃，若想获取原型对象，请优先使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/GetPrototypeOf" target="_blank" rel="noopener noreferrer">Object.getPrototypeOf(object)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> API</p></div> <h2 id="使用过-es6-吗-你常用的有哪一些"><a href="#使用过-es6-吗-你常用的有哪一些" class="header-anchor">#</a> 使用过 ES6 吗？你常用的有哪一些？</h2> <ul><li>let/const 自身特性与块级作用域</li> <li>模板字符串</li> <li>解构赋值</li> <li>函数默认参数</li> <li>箭头函数</li> <li>Promise</li> <li>async/await</li></ul> <h2 id="简述一下-promise-的特点"><a href="#简述一下-promise-的特点" class="header-anchor">#</a> 简述一下 Promise 的特点</h2> <ul><li>主要用于异步计算.</li> <li>可以将异步操作队列化，按照期望的顺序执行，返回符合预期的结果。</li> <li>可以在对象之间传递和操作 Promise，帮助我们处理队列。</li> <li>链式写法更简洁，可以避免回调地狱</li></ul> <h2 id="promise-怎么做异常处理"><a href="#promise-怎么做异常处理" class="header-anchor">#</a> Promise 怎么做异常处理?</h2> <ol><li>Promise 最末尾添加 catch() 是统一 catch 错误</li> <li>Promise.then 的第二个参数捕获错误</li></ol> <p>衍生问题:</p> <p><strong>Q: <code>try...catch</code> 可以捕获 Promise.reject 错误吗，具体说说原因？</strong></p> <p>A: <code>try...catch</code> 是同步代码，而 <code>Promise</code>、<code>setTimeout</code> 等语句是异步代码，因此当异步代码发生错误时，<code>try...catch</code> 代码块已经执行完毕了，因此被抛出错误。</p> <h2 id="promise-串联加载"><a href="#promise-串联加载" class="header-anchor">#</a> Promise 串联加载?</h2> <ol><li>通过 async await ，等异步函数执行完毕取出 Promise 中的值</li> <li>通过 then 链式传递串联</li></ol> <h2 id="promise-并行加载"><a href="#promise-并行加载" class="header-anchor">#</a> Promise 并行加载?</h2> <p>可以使用 <code>Promise.all</code>。</p> <p><code>Promise.all</code> 接受一个数组，数组内可以是对象、数组或者字符串等基本类型，也可以是 <code>Promise</code> 类型。</p> <p>若数组中有 <code>Promise</code> 类型，当所有 <code>Promise</code> 的状态都变为成功后，就会进入 <code>Promise.all</code> 的 then 方法中，若有一项 <code>Promise</code> 状态变为 <code>reject</code>，则 <code>Promise.all</code> 的状态变为 <code>reject</code>。</p> <h2 id="promise-限流并发"><a href="#promise-限流并发" class="header-anchor">#</a> Promise 限流并发? <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>TODO</span></h2> <p>TODO: 待补充...</p> <h2 id="async-await"><a href="#async-await" class="header-anchor">#</a> async/await?</h2> <ul><li>async/await 是最直接的同步写法，在也没有回调函数</li> <li>async/await 使用了 Promise，并没有和 Promise 产生冲突</li> <li>但还是改变不了 js 单线程、异步的本质</li></ul> <h2 id="事件循环-event-loop"><a href="#事件循环-event-loop" class="header-anchor">#</a> 事件循环 (event-loop) <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>TODO</span></h2> <ol><li><p>什么是事件循环</p> <p>js 是一个单线程非阻塞的语言，单线程意味着所有任务都要排队。但有一些任务耗时很长，js 引擎不想因为这些耗时长的任务而阻塞后面任务的处理。因此将这些任务分为<strong>同步任务</strong>与<strong>异步任务</strong>。</p> <p>事件循环中的任务又区分宏任务(Microtasks)与微任务(task)。两种任务各有一个任务队列。首先会执行微任务，然后再执行宏任务。</p> <blockquote><p>TODO: 待补充...</p></blockquote></li> <li><p><code>setTimeout</code> 是否有误差？若有，产生误差的原因是什么？</p> <p>零延迟并不意味着回调会立即执行，其等待的时间取决于队列里待处理的消息数量。</p></li> <li><p>以下程序依次输出的信息是:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'这是开始'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'这是来自第一个回调的消息'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'这是一条消息'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">cb1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'这是来自第二个回调的消息'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'这是结束'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &quot;这是开始&quot;</span>
<span class="token comment">// &quot;这是一条消息&quot;</span>
<span class="token comment">// &quot;这是结束&quot;</span>
<span class="token comment">// &quot;这是来自第一个回调的消息&quot;</span>
<span class="token comment">// &quot;这是来自第二个回调的消息&quot;</span>
</code></pre></div></li></ol> <h2 id="计算题"><a href="#计算题" class="header-anchor">#</a> 计算题</h2> <ol><li><p>按顺序写出程序的输出结果:</p> <blockquote><p>考察 this 问题</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> length <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  length<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token function-variable function">callApi</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

obj<span class="token punctuation">.</span><span class="token function">callApi</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><p>该段代码依次输出 <code>10</code>、<code>2</code>。<strong>函数的调用方式决定了 <code>this</code> 的值</strong>。第二个函数调用是通过 <code>arguments</code> 调用，那么 <code>this</code> 自然指向 <code>arguments</code>，那 <code>arguments</code> 的实参有 <code>fn</code> 跟 <code>3</code> 两个参数，因此输出 <code>2</code>。</p></li> <li><p>列出下面代码的不足及优化方案</p> <blockquote><p>考察事件代理与 nodeList</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> node<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  node<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'click'</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>改造下面的代码，使之输出 0 ~ 9，写出你能想到的所有解法。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ol><li><p><code>var</code> 改为 <code>let</code></p></li> <li><p>循环体内的代码改为立即执行函数，利用闭包来修复</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> j <span class="token operator">*</span> <span class="token number">1000</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>将循环体内的代码封装到新函数中，在循环体中调用该函数并传入 <code>i</code></p></li> <li><p>将 <code>i</code> 作为 <code>setTimeout</code> 内部函数的额外参数传入</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre></div></li></ol></li> <li><p>请写出下面代码的运行结果</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async1 end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;async2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;script start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">reslove</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;promise1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">reslove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;promise2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;script end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>依次输出的是:</p> <ul><li>script start</li> <li>async1 start</li> <li>async2</li> <li>promise1</li> <li>script end</li> <li>async1 end</li> <li>promise2</li> <li>setTimeout</li></ul></li> <li><p>下面的代码会进入 <code>.catch</code> 吗？解释一下你的答案。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Whoops!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;catched!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>A: 不会进入 <code>.catch</code>, 因为 <code>try...catch</code> 无法捕获异步代码的错误。</p></li></ol> <hr> <h2 id="为什么要引入-typescript-引入的好处是什么"><a href="#为什么要引入-typescript-引入的好处是什么" class="header-anchor">#</a> 为什么要引入 TypeScript，引入的好处是什么？</h2> <p>TypeScript 是 JavaScript 的超集，在 JavaScript 的基础上引入了类型约束。</p> <ul><li>提供类型系统：增强了代码的可读性和可维护性，在编译阶段就能发现大部分错误</li> <li>支持 ES6</li> <li>强大的 IDE 支持: 类型检测、语法提示</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/anran758/front-end-lab/edit/master/docs/topic/js.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/5/19 上午11:49:25</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/front-end-lab/assets/js/app.696a2afd.js" defer></script><script src="/front-end-lab/assets/js/2.8da06e8a.js" defer></script><script src="/front-end-lab/assets/js/29.5d5e2534.js" defer></script><script src="/front-end-lab/assets/js/7.ae79556e.js" defer></script><script src="/front-end-lab/assets/js/6.c336eb54.js" defer></script>
  </body>
</html>
